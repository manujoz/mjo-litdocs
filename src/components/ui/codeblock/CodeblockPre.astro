---
import CodeblockActions from "./CodeblockActions.astro";

export interface Props {
    language: "javascript" | "typescript" | "bash" | "html" | "css";
    content?: string;
    active?: boolean;
    bugTitle?: string;
}

const { language, content, active, bugTitle } = Astro.props;
---

<pre
    class="pre"
    data-content={content}
    data-active={active}>
    <code class={`language-${language}`}>
        <slot />
    </code>
    <CodeblockActions bugTitle={bugTitle} />
</pre>

<style>
    .pre {
        max-height: calc(100dvh - 200px);
        overflow-y: auto;
    }
    .pre[data-content] {
        display: none;
    }
    .pre[data-content][data-active="true"] {
        display: block;
    }
</style>
